#!/bin/bash
# Fetch assets from worktrunk-assets repo for local development
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
REPO_ROOT="$(dirname "$SCRIPT_DIR")"
ASSETS_DIR="$REPO_ROOT/docs/static/assets"

echo "Fetching assets..."
rm -rf "$ASSETS_DIR"
mkdir -p "$ASSETS_DIR"

# Download and extract
TMPFILE=$(mktemp)
curl -fsSL "https://github.com/max-sixty/worktrunk-assets/archive/refs/heads/main.tar.gz" -o "$TMPFILE"
tar -xzf "$TMPFILE" --strip-components=2 -C "$ASSETS_DIR" "worktrunk-assets-main/assets"
rm "$TMPFILE"

echo "Done. Assets in $ASSETS_DIR/"
