{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block hero %}
<script async defer src="https://buttons.github.io/buttons.js"></script>
<style>
  .welcome {
    animation: welcome-animation 1s cubic-bezier(0.25, 0.1, 0.25, 1) both;
    animation-delay: 0.25s;
  }

  .hero-image {
    animation: logo-animation 2s cubic-bezier(0.25, 0.1, 0.25, 1) both;
  }

  .explore-more {
    animation: fade-in-animation 1.5s cubic-bezier(0.25, 0.1, 0.25, 1) both;
    animation-delay: 0.5s;
  }

  @keyframes logo-animation {
    0% {
      transform: rotateY(-40deg) rotateZ(90deg) translateX(-50%);
      filter: blur(50px);
      opacity: 0;
    }
    50% {
      filter: blur(0);
    }
    70% {
      opacity: 1;
      transform: rotateY(-10deg) rotateZ(10deg) translateX(5%);
    }
    100% {
      transform: rotateY(0) rotateZ(0) translateX(0);
    }
  }

  @keyframes fade-in-animation {
    0% {
      filter: blur(10px);
      opacity: 0;
    }
    30% {
      filter: blur(0);
    }
    100% {
      opacity: 1;
    }
  }

  @keyframes welcome-animation {
    0% {
      transform: translateY(60%);
      filter: blur(10px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      filter: blur(0);
      opacity: 1;
    }
  }

  .hero section {
    padding: 0 5rem;
  }
  @media screen and (max-width: 768px) {
    .hero section {
      padding: 0 2rem;
    }

    .hero-image {
      display: none;
    }
  }
</style>
<section class="text-center welcome">
  <h1 class="heading-text" style="font-size: 50px">Worktrunk</h1>
  <h3 class="title-text">
    Git worktree management for <b>parallel AI agent workflows</b>
  </h3>
  <div style="display: flex; gap: 1rem; justify-content: center; align-items: center; margin-top: 1.5rem;">
    <button class="button" onclick="window.scrollTo({top: document.querySelector('main').offsetTop - document.querySelector('header').offsetHeight, behavior: 'smooth'})">Get Started</button>
    <a class="github-button" href="https://github.com/max-sixty/worktrunk" data-size="large" data-show-count="true"
      aria-label="Star max-sixty/worktrunk on GitHub">Star</a>
  </div>
</section>
<img class="hero-image" src="{{ get_url(path='logo.png') }}" srcset="{{ get_url(path='logo.png') }} 1x, {{ get_url(path='logo@2x.png') }} 2x" alt="Worktrunk logo" decoding="sync" fetchpriority="high">
<button class="explore-more text" onclick="window.scrollTo({top: document.querySelector('main').offsetTop - document.querySelector('header').offsetHeight, behavior: 'smooth'})" aria-label="Scroll to content">
  Explore More ⇩
</button>
{% endblock hero %}

{% block toc %}
{% set docs_section = get_section(path="_index.md") %}
{{ macros::toc_nav(docs_section=docs_section) }}
{% endblock toc %}

{% block content %}
{# Display intro content directly on homepage #}
{% set docs_section = get_section(path="_index.md") %}
{% set intro = docs_section.pages | filter(attribute="slug", value="intro") | first %}
<div class="heading-text">{{ intro.title }}</div>
{{ intro.content | safe }}

<div class="page-nav" style="justify-content: flex-end;">
    {% set quickstart = docs_section.pages | filter(attribute="slug", value="quickstart") | first %}
    <a href="{{ quickstart.permalink | safe }}">{{ quickstart.title }} →</a>
</div>
{% endblock content %}
