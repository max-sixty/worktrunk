{"run_id":"1763935809-748534000","line":2364,"new":{"module_name":"integration__integration_tests__merge","snapshot_name":"merge_no_commit_no_squash_no_remove_redundant","metadata":{"source":"tests/integration_tests/merge.rs","assertion_line":2364,"info":{"program":"wt","args":["merge","main","--no-commit","--no-squash","--no-remove"],"env":{"CLICOLOR_FORCE":"1","COLUMNS":"150","GIT_AUTHOR_DATE":"2025-01-01T00:00:00Z","GIT_COMMITTER_DATE":"2025-01-01T00:00:00Z","GIT_CONFIG_GLOBAL":"[TEST_GIT_CONFIG]","GIT_CONFIG_SYSTEM":"/dev/null","GIT_EDITOR":"","LANG":"C","LC_ALL":"C","SOURCE_DATE_EPOCH":"1761609600","WORKTRUNK_CONFIG_PATH":"[TEST_CONFIG]"}}},"snapshot":"success: false\nexit_code: 1\n----- stdout -----\nðŸ”„ \u001b[36mMerging 1 commit to \u001b[1m\u001b[36mmain\u001b[0m\u001b[36m @ \u001b[2m[SHA]\u001b[0m (no commit/squash/rebase needed)\n\u001b[107m \u001b[0m  * [SHA]\u001b[33m (\u001b[m\u001b[1;36mHEAD\u001b[m\u001b[33m -> \u001b[m\u001b[1;32mfeature\u001b[m\u001b[33m)\u001b[m Add feature file\n\u001b[107m \u001b[0m   feature.txt | 1 \u001b[32m+\u001b[m\n\u001b[107m \u001b[0m   1 file changed, 1 insertion(+)\nâŒ \u001b[31mPush failed\u001b[0m\n\u001b[107m \u001b[0m  remote: error: refusing to update checked out branch: refs/heads/main        \n\u001b[107m \u001b[0m  remote: error: By default, updating the current branch in a non-bare repository        \n\u001b[107m \u001b[0m  remote: is denied, because it will make the index and work tree inconsistent        \n\u001b[107m \u001b[0m  remote: with what you pushed, and will require 'git reset --hard' to match        \n\u001b[107m \u001b[0m  remote: the work tree to HEAD.        \n\u001b[107m \u001b[0m  remote: \n\u001b[107m \u001b[0m  remote: You can set the 'receive.denyCurrentBranch' configuration variable        \n\u001b[107m \u001b[0m  remote: to 'ignore' or 'warn' in the remote repository to allow pushing into        \n\u001b[107m \u001b[0m  remote: its current branch; however, this is not recommended unless you        \n\u001b[107m \u001b[0m  remote: arranged to update its work tree to match what you pushed in some        \n\u001b[107m \u001b[0m  remote: other way.        \n\u001b[107m \u001b[0m  remote: \n\u001b[107m \u001b[0m  remote: To squelch this message and still keep the default behaviour, set        \n\u001b[107m \u001b[0m  remote: 'receive.denyCurrentBranch' configuration variable to 'refuse'.        \n\u001b[107m \u001b[0m  To [REPO]/.git\n\u001b[107m \u001b[0m   ! [remote rejected] HEAD -> main (branch is currently checked out)\n\u001b[107m \u001b[0m  error: failed to push some refs to '[REPO]/.git'\n\n\n----- stderr -----"},"old":{"module_name":"integration__integration_tests__merge","metadata":{},"snapshot":"success: true\nexit_code: 0\n----- stdout -----\nðŸ”„ \u001b[36mMerging 1 commit to \u001b[1m\u001b[36mmain\u001b[0m\u001b[36m @ \u001b[2m[SHA]\u001b[0m (no commit/squash/rebase needed)\n\u001b[107m \u001b[0m  * [SHA]\u001b[33m (\u001b[m\u001b[1;36mHEAD\u001b[m\u001b[33m -> \u001b[m\u001b[1;32mfeature\u001b[m\u001b[33m)\u001b[m Add feature file\n\u001b[107m \u001b[0m   feature.txt | 1 \u001b[32m+\u001b[m\n\u001b[107m \u001b[0m   1 file changed, 1 insertion(+)\nâœ… \u001b[32mMerged to \u001b[1m\u001b[32mmain\u001b[0m\u001b[0m (1 commit, 1 file, \u001b[32m+1\u001b[0m)\nâœ… \u001b[32mWorktree preserved (--no-remove)\u001b[0m\n\n----- stderr -----"}}
{"run_id":"1763935809-748534000","line":2309,"new":null,"old":null}
{"run_id":"1763935809-748534000","line":2260,"new":{"module_name":"integration__integration_tests__merge","snapshot_name":"merge_no_commit_with_clean_tree","metadata":{"source":"tests/integration_tests/merge.rs","assertion_line":2260,"info":{"program":"wt","args":["merge","main","--no-commit","--no-remove"],"env":{"CLICOLOR_FORCE":"1","COLUMNS":"150","GIT_AUTHOR_DATE":"2025-01-01T00:00:00Z","GIT_COMMITTER_DATE":"2025-01-01T00:00:00Z","GIT_CONFIG_GLOBAL":"[TEST_GIT_CONFIG]","GIT_CONFIG_SYSTEM":"/dev/null","GIT_EDITOR":"","LANG":"C","LC_ALL":"C","SOURCE_DATE_EPOCH":"1761609600","WORKTRUNK_CONFIG_PATH":"[TEST_CONFIG]"}}},"snapshot":"success: false\nexit_code: 1\n----- stdout -----\nðŸ”„ \u001b[36mMerging 1 commit to \u001b[1m\u001b[36mmain\u001b[0m\u001b[36m @ \u001b[2m[SHA]\u001b[0m (no commit/squash/rebase needed)\n\u001b[107m \u001b[0m  * [SHA]\u001b[33m (\u001b[m\u001b[1;36mHEAD\u001b[m\u001b[33m -> \u001b[m\u001b[1;32mfeature\u001b[m\u001b[33m)\u001b[m Add feature file\n\u001b[107m \u001b[0m   feature.txt | 1 \u001b[32m+\u001b[m\n\u001b[107m \u001b[0m   1 file changed, 1 insertion(+)\nâŒ \u001b[31mPush failed\u001b[0m\n\u001b[107m \u001b[0m  remote: error: refusing to update checked out branch: refs/heads/main        \n\u001b[107m \u001b[0m  remote: error: By default, updating the current branch in a non-bare repository        \n\u001b[107m \u001b[0m  remote: is denied, because it will make the index and work tree inconsistent        \n\u001b[107m \u001b[0m  remote: with what you pushed, and will require 'git reset --hard' to match        \n\u001b[107m \u001b[0m  remote: the work tree to HEAD.        \n\u001b[107m \u001b[0m  remote: \n\u001b[107m \u001b[0m  remote: You can set the 'receive.denyCurrentBranch' configuration variable        \n\u001b[107m \u001b[0m  remote: to 'ignore' or 'warn' in the remote repository to allow pushing into        \n\u001b[107m \u001b[0m  remote: its current branch; however, this is not recommended unless you        \n\u001b[107m \u001b[0m  remote: arranged to update its work tree to match what you pushed in some        \n\u001b[107m \u001b[0m  remote: other way.        \n\u001b[107m \u001b[0m  remote: \n\u001b[107m \u001b[0m  remote: To squelch this message and still keep the default behaviour, set        \n\u001b[107m \u001b[0m  remote: 'receive.denyCurrentBranch' configuration variable to 'refuse'.        \n\u001b[107m \u001b[0m  To [REPO]/.git\n\u001b[107m \u001b[0m   ! [remote rejected] HEAD -> main (branch is currently checked out)\n\u001b[107m \u001b[0m  error: failed to push some refs to '[REPO]/.git'\n\n\n----- stderr -----"},"old":{"module_name":"integration__integration_tests__merge","metadata":{},"snapshot":"success: true\nexit_code: 0\n----- stdout -----\nðŸ”„ \u001b[36mMerging 1 commit to \u001b[1m\u001b[36mmain\u001b[0m\u001b[36m @ \u001b[2m[SHA]\u001b[0m (no commit/squash/rebase needed)\n\u001b[107m \u001b[0m  * [SHA]\u001b[33m (\u001b[m\u001b[1;36mHEAD\u001b[m\u001b[33m -> \u001b[m\u001b[1;32mfeature\u001b[m\u001b[33m)\u001b[m Add feature file\n\u001b[107m \u001b[0m   feature.txt | 1 \u001b[32m+\u001b[m\n\u001b[107m \u001b[0m   1 file changed, 1 insertion(+)\nâœ… \u001b[32mMerged to \u001b[1m\u001b[32mmain\u001b[0m\u001b[0m (1 commit, 1 file, \u001b[32m+1\u001b[0m)\nâœ… \u001b[32mWorktree preserved (--no-remove)\u001b[0m\n\n----- stderr -----"}}
{"run_id":"1763935889-605369000","line":2309,"new":null,"old":null}
{"run_id":"1763935889-605369000","line":2364,"new":null,"old":null}
{"run_id":"1763935889-605369000","line":2260,"new":null,"old":null}
{"run_id":"1763935927-181361000","line":2309,"new":null,"old":null}
{"run_id":"1763935927-181361000","line":2364,"new":null,"old":null}
{"run_id":"1763935927-181361000","line":2260,"new":null,"old":null}
{"run_id":"1763936206-779718000","line":2364,"new":null,"old":null}
{"run_id":"1763936206-779718000","line":2309,"new":null,"old":null}
{"run_id":"1763936206-779718000","line":2260,"new":null,"old":null}
